# ë§ˆì´í˜ì´ì§€ ë¦¬íŒ©í† ë§ ê³„íš

## í˜„ì¬ ë¬¸ì œì  ë¶„ì„

### 1. íŒŒì¼ í¬ê¸° ë° ë³µì¡ë„
- **í˜„ì¬ íŒŒì¼ í¬ê¸°**: 35,871 ë°”ì´íŠ¸ (ì•½ 36KB)
- **ì½”ë“œ ë¼ì¸ ìˆ˜**: ì•½ 1,000ì¤„
- **ì£¼ìš” ë¬¸ì œì **:
  - ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ì— ë„ˆë¬´ ë§ì€ ì±…ì„ì´ ì§‘ì¤‘ë¨
  - ìƒíƒœ ê´€ë¦¬ ë¡œì§ê³¼ UI ë¡œì§ì´ í˜¼ì¬
  - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ë˜ì§€ ì•ŠìŒ

### 2. ì£¼ìš” ê¸°ëŠ¥ ë¶„ì„
í˜„ì¬ ë§ˆì´í˜ì´ì§€ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ë“¤:
- ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ ê´€ë¦¬
- ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ ë° í•„í„°ë§
- ì˜ˆì•½ ìƒì„¸ ì •ë³´ í‘œì‹œ
- ì˜ˆì•½ ì·¨ì†Œ ì²˜ë¦¬
- ì˜ˆì•½ ì—°ì¥ ì²˜ë¦¬
- í†µê³„ ì •ë³´ í‘œì‹œ (ì ë¦½ì‹œê°„, ì¿ í°, ë¦¬ë·°)
- ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸
- ì‹¤ì‹œê°„ ì¿ í° ì—…ë°ì´íŠ¸ êµ¬ë…

## ë¦¬íŒ©í† ë§ ë°©ì•ˆ

### 1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ê°œì„ 

```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ my/
â”‚       â”œâ”€â”€ page.tsx (ë©”ì¸ í˜ì´ì§€ - ê°„ì†Œí™”)
â”‚       â””â”€â”€ components/
â”‚           â”œâ”€â”€ MyPageLayout.tsx
â”‚           â”œâ”€â”€ StatsSection.tsx
â”‚           â”œâ”€â”€ ReservationList.tsx
â”‚           â”œâ”€â”€ ReservationCard.tsx
â”‚           â””â”€â”€ UserActions.tsx
â”œâ”€â”€ features/
â”‚   â””â”€â”€ my-page/
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ useReservations.ts
â”‚       â”‚   â”œâ”€â”€ useUserStats.ts
â”‚       â”‚   â”œâ”€â”€ useReservationActions.ts
â”‚       â”‚   â””â”€â”€ useRealtimeSubscriptions.ts
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ ReservationDetailModal.tsx
â”‚       â”‚   â”œâ”€â”€ CancelReservationModal.tsx
â”‚       â”‚   â”œâ”€â”€ ReservationFilters.tsx
â”‚       â”‚   â””â”€â”€ ReservationStatusBadge.tsx
â”‚       â””â”€â”€ utils/
â”‚           â”œâ”€â”€ reservation-helpers.ts
â”‚           â””â”€â”€ status-helpers.ts
```

### 2. ë¶„ë¦¬í•  ì»´í¬ë„ŒíŠ¸ ë° ë¡œì§

#### A. ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¶„ë¦¬í•  ë¡œì§

**1. `useReservations.ts`**
```typescript
// ì˜ˆì•½ ëª©ë¡ ê´€ë¦¬ ë¡œì§
export function useReservations(userId: string) {
  const [reservations, setReservations] = useState<Reservation[]>([]);
  const [filteredReservations, setFilteredReservations] = useState<Reservation[]>([]);
  const [activeFilter, setActiveFilter] = useState<FilterType>('upcoming');
  const [isLoading, setIsLoading] = useState(true);
  const [hasError, setHasError] = useState(false);
  const [errorMessage, setErrorMessage] = useState("");

  // fetchReservations ë¡œì§
  // applyFilter ë¡œì§
  // handleFilterChange ë¡œì§
  
  return {
    reservations,
    filteredReservations,
    activeFilter,
    isLoading,
    hasError,
    errorMessage,
    fetchReservations,
    handleFilterChange,
    refreshReservations
  };
}
```

**2. `useUserStats.ts`**
```typescript
// ì‚¬ìš©ì í†µê³„ ì •ë³´ ê´€ë¦¬
export function useUserStats(userId: string) {
  const [accumulatedTime, setAccumulatedTime] = useState(0);
  const [couponsCount, setCouponsCount] = useState(0);
  const [reviewsCount, setReviewsCount] = useState(0);
  const [isLoading, setIsLoading] = useState(true);

  // fetchSimplifiedData ë¡œì§
  
  return {
    accumulatedTime,
    couponsCount,
    reviewsCount,
    isLoading,
    refreshStats
  };
}
```

**3. `useReservationActions.ts`**
```typescript
// ì˜ˆì•½ ì•¡ì…˜ ê´€ë¦¬ (ì·¨ì†Œ, ì—°ì¥ ë“±)
export function useReservationActions() {
  const [isCancelModalOpen, setIsCancelModalOpen] = useState(false);
  const [cancelingReservation, setCancelingReservation] = useState<Reservation | null>(null);
  const [isCancelling, setIsCancelling] = useState(false);
  const [isExtensionModalOpen, setIsExtensionModalOpen] = useState(false);
  const [extendingReservation, setExtendingReservation] = useState<Reservation | null>(null);

  // handleCancelReservation ë¡œì§
  // handleExtensionClick ë¡œì§
  // handleExtensionSuccess ë¡œì§
  
  return {
    cancelState: { isCancelModalOpen, cancelingReservation, isCancelling },
    extensionState: { isExtensionModalOpen, extendingReservation },
    actions: {
      openCancelModal,
      closeCancelModal,
      confirmCancel,
      openExtensionModal,
      closeExtensionModal,
      handleExtensionSuccess
    }
  };
}
```

**4. `useRealtimeSubscriptions.ts`**
```typescript
// ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ êµ¬ë… ê´€ë¦¬
export function useRealtimeSubscriptions(userId: string, options: {
  onReservationCreated?: () => void;
  onCouponUpdated?: () => void;
}) {
  // ì˜ˆì•½ ìƒì„± ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
  // ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸ íƒ€ì´ë¨¸
  // ì¿ í° ì—…ë°ì´íŠ¸ êµ¬ë…
}
```

#### B. UI ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬

**1. `StatsSection.tsx`**
```typescript
interface StatsSectionProps {
  accumulatedTime: number;
  couponsCount: number;
  reviewsCount: number;
  onStatsCardClick: (path: string) => void;
}

export function StatsSection({ 
  accumulatedTime, 
  couponsCount, 
  reviewsCount, 
  onStatsCardClick 
}: StatsSectionProps) {
  // í†µê³„ ì¹´ë“œ ì„¹ì…˜ UI
}
```

**2. `ReservationList.tsx`**
```typescript
interface ReservationListProps {
  reservations: Reservation[];
  isLoading: boolean;
  activeFilter: FilterType;
  onFilterChange: (filter: FilterType) => void;
  onReservationClick: (reservation: Reservation) => void;
  onExtensionClick: (reservation: Reservation) => void;
}

export function ReservationList(props: ReservationListProps) {
  // ì˜ˆì•½ ëª©ë¡ ë° í•„í„° UI
}
```

**3. `ReservationCard.tsx`**
```typescript
interface ReservationCardProps {
  reservation: Reservation;
  activeFilter: FilterType;
  onCardClick: () => void;
  onExtensionClick: () => void;
}

export function ReservationCard(props: ReservationCardProps) {
  // ê°œë³„ ì˜ˆì•½ ì¹´ë“œ UI
}
```

**4. `ReservationDetailModal.tsx`**
```typescript
interface ReservationDetailModalProps {
  reservation: Reservation | null;
  isOpen: boolean;
  onClose: () => void;
  onCancelClick: () => void;
  onExtensionClick: () => void;
}

export function ReservationDetailModal(props: ReservationDetailModalProps) {
  // ì˜ˆì•½ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ UI
}
```

**5. `ReservationStatusBadge.tsx`**
```typescript
interface ReservationStatusBadgeProps {
  reservation: Reservation;
}

export function ReservationStatusBadge({ reservation }: ReservationStatusBadgeProps) {
  // ì˜ˆì•½ ìƒíƒœ ë°°ì§€ UI (ì•„ì´ì½˜, ìƒ‰ìƒ, í…ìŠ¤íŠ¸ ë¡œì§ í¬í•¨)
}
```

#### C. ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¡œ ë¶„ë¦¬

**1. `reservation-helpers.ts`**
```typescript
// ì˜ˆì•½ ê´€ë ¨ í—¬í¼ í•¨ìˆ˜ë“¤
export function formatTimeString(timeStr: string): string { ... }
export function canCancelReservation(reservation: Reservation): boolean { ... }
export function getReservationTimeStatus(reservation: Reservation): TimeStatus { ... }
```

**2. `status-helpers.ts`**
```typescript
// ìƒíƒœ ê´€ë ¨ í—¬í¼ í•¨ìˆ˜ë“¤
export function getStatusIcon(reservation: Reservation): JSX.Element { ... }
export function getStatusColorClass(reservation: Reservation): string { ... }
export function getStatusText(reservation: Reservation): string { ... }
```

### 3. ë¦¬íŒ©í† ë§ëœ ë©”ì¸ í˜ì´ì§€ êµ¬ì¡°

```typescript
// src/app/my/page.tsx
"use client";

import { MyPageLayout } from './components/MyPageLayout';
import { StatsSection } from './components/StatsSection';
import { ReservationList } from './components/ReservationList';
import { UserActions } from './components/UserActions';
import { useAuth } from '@/contexts/AuthContext';
import { useReservations } from '@/features/my-page/hooks/useReservations';
import { useUserStats } from '@/features/my-page/hooks/useUserStats';
import { useReservationActions } from '@/features/my-page/hooks/useReservationActions';
import { useRealtimeSubscriptions } from '@/features/my-page/hooks/useRealtimeSubscriptions';
import { ReservationDetailModal } from '@/features/my-page/components/ReservationDetailModal';
import { CancelReservationModal } from '@/features/my-page/components/CancelReservationModal';
import { ExtensionModal } from '@/components/reservation';

export default function MyPage() {
  const { user, loading, signOut } = useAuth();
  const router = useRouter();
  
  // ì»¤ìŠ¤í…€ í›… ì‚¬ìš©
  const reservations = useReservations(user?.id);
  const stats = useUserStats(user?.id);
  const actions = useReservationActions();
  
  // ì‹¤ì‹œê°„ êµ¬ë…
  useRealtimeSubscriptions(user?.id, {
    onReservationCreated: reservations.refreshReservations,
    onCouponUpdated: stats.refreshStats,
  });

  // ë¡œë”© ë° ì¸ì¦ ì²´í¬
  if (loading) return <LoadingState />;
  if (!user) return <RedirectToLogin />;

  return (
    <MyPageLayout>
      <StatsSection
        accumulatedTime={stats.accumulatedTime}
        couponsCount={stats.couponsCount}
        reviewsCount={stats.reviewsCount}
        onStatsCardClick={(path) => router.push(path)}
      />
      
      <ReservationList
        reservations={reservations.filteredReservations}
        isLoading={reservations.isLoading}
        activeFilter={reservations.activeFilter}
        onFilterChange={reservations.handleFilterChange}
        onReservationClick={(res) => actions.actions.openDetailModal(res)}
        onExtensionClick={(res) => actions.actions.openExtensionModal(res)}
      />
      
      <UserActions onSignOut={signOut} />
      
      {/* ëª¨ë‹¬ë“¤ */}
      <ReservationDetailModal {...detailModalProps} />
      <CancelReservationModal {...cancelModalProps} />
      <ExtensionModal {...extensionModalProps} />
    </MyPageLayout>
  );
}
```

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **Phase 1**: ì»¤ìŠ¤í…€ í›… ë¶„ë¦¬
   - `useReservations.ts` ìƒì„±
   - `useUserStats.ts` ìƒì„±
   - ê¸°ì¡´ ë¡œì§ì„ í›…ìœ¼ë¡œ ì´ë™

2. **Phase 2**: UI ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
   - `StatsSection.tsx` ìƒì„±
   - `ReservationList.tsx` ìƒì„±
   - `ReservationCard.tsx` ìƒì„±

3. **Phase 3**: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ë¦¬
   - `reservation-helpers.ts` ìƒì„±
   - `status-helpers.ts` ìƒì„±

4. **Phase 4**: ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
   - `ReservationDetailModal.tsx` ìƒì„±
   - `CancelReservationModal.tsx` ìƒì„±

5. **Phase 5**: ì‹¤ì‹œê°„ êµ¬ë… ë¡œì§ ë¶„ë¦¬
   - `useRealtimeSubscriptions.ts` ìƒì„±

## ì˜ˆìƒ íš¨ê³¼

1. **ì½”ë“œ ê°€ë…ì„± í–¥ìƒ**
   - ë©”ì¸ í˜ì´ì§€ íŒŒì¼ í¬ê¸° 80% ê°ì†Œ (ì•½ 200ì¤„ë¡œ ì¶•ì†Œ)
   - ê° ì»´í¬ë„ŒíŠ¸ì™€ í›…ì˜ ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜

2. **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**
   - ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬ëœ ëª¨ë“ˆë¡œ ìˆ˜ì •ì´ ìš©ì´
   - í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ì‰¬ì›Œì§

3. **ì¬ì‚¬ìš©ì„± í–¥ìƒ**
   - ë¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ì™€ í›…ì„ ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥
   - ê³µí†µ ë¡œì§ì˜ ì¤‘ë³µ ì œê±°

4. **ì„±ëŠ¥ ê°œì„ **
   - í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë Œë”ë§
   - ë©”ëª¨ì´ì œì´ì…˜ ì ìš©ì´ ìš©ì´í•´ì§


## planner ëª¨ë“œ

### ğŸ“Š í˜„ì¬ ìƒí™© ë¶„ì„

**ê²€ì¦ëœ í˜„ì¬ íŒŒì¼ ìƒíƒœ**:
- **ì‹¤ì œ íŒŒì¼ í¬ê¸°**: 36KB (876ì¤„) - ë¬¸ì„œ ì˜ˆìƒê³¼ ì¼ì¹˜
- **ì£¼ìš” ë¬¸ì œì  í™•ì¸**: ë‹¨ì¼ íŒŒì¼ì— ê³¼ë„í•œ ì±…ì„ ì§‘ì¤‘
- **ë³µì¡ë„**: ì•½ 30ê°œì˜ useState, 15ê°œì˜ ì»¤ìŠ¤í…€ í•¨ìˆ˜, ë‹¤ì–‘í•œ UI ë¡œì§ í˜¼ì¬

**í”„ë¡œì íŠ¸ êµ¬ì¡° í˜„í™©**:
```
src/
â”œâ”€â”€ components/ (ê¸°ì¡´ ê³µí†µ ì»´í¬ë„ŒíŠ¸)
â”œâ”€â”€ hooks/ (ê¸°ì¡´ ì»¤ìŠ¤í…€ í›…ë“¤)
â”œâ”€â”€ app/my/page.tsx (876ì¤„ - ë¦¬íŒ©í† ë§ ëŒ€ìƒ)
â”œâ”€â”€ lib/ (ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤)
â”œâ”€â”€ types/ (íƒ€ì… ì •ì˜)
â””â”€â”€ contexts/ (ì¸ì¦, Supabase ì»¨í…ìŠ¤íŠ¸)
```

### ğŸ¯ ë¦¬íŒ©í† ë§ ì‹¤í–‰ ê³„íš

#### **Phase 1: ì»¤ìŠ¤í…€ í›… ë¶„ë¦¬ (ìµœìš°ì„ ìˆœìœ„)**
**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 3-4ì‹œê°„

**1-1. `useReservations.ts` ìƒì„± (1.5ì‹œê°„)**
- **ì¶”ì¶œí•  ë¡œì§**:
  ```typescript
  // í˜„ì¬ page.tsxì—ì„œ ì¶”ì¶œí•  ìƒíƒœë“¤
  - reservations, filteredReservations, activeFilter
  - isLoading, hasError, errorMessage
  - fetchReservations, applyFilter, handleFilterChange í•¨ìˆ˜ë“¤
  ```
- **ì„±ê³µ ê¸°ì¤€**: ì˜ˆì•½ ê´€ë ¨ ëª¨ë“  ìƒíƒœì™€ ë¡œì§ì´ í›…ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ page.tsxì—ì„œ ì‚¬ìš© ê°€ëŠ¥
- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: ê¸°ì¡´ ê¸°ëŠ¥ ë™ì¼í•˜ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

**1-2. `useUserStats.ts` ìƒì„± (1ì‹œê°„)**
- **ì¶”ì¶œí•  ë¡œì§**:
  ```typescript
  // í†µê³„ ê´€ë ¨ ìƒíƒœë“¤
  - accumulatedTime, couponsCount, reviewsCount
  - fetchSimplifiedData í•¨ìˆ˜
  ```
- **ì„±ê³µ ê¸°ì¤€**: í†µê³„ ì¹´ë“œ ë°ì´í„°ê°€ ë…ë¦½ì ì¸ í›…ìœ¼ë¡œ ê´€ë¦¬ë¨
- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: í†µê³„ ì¹´ë“œ í‘œì‹œ ë° í´ë¦­ ê¸°ëŠ¥ ì •ìƒ ì‘ë™

**1-3. `useReservationActions.ts` ìƒì„± (1.5ì‹œê°„)**
- **ì¶”ì¶œí•  ë¡œì§**:
  ```typescript
  // ì˜ˆì•½ ì•¡ì…˜ ê´€ë ¨ ìƒíƒœë“¤
  - ì·¨ì†Œ ëª¨ë‹¬: isCancelModalOpen, cancelingReservation, isCancelling
  - ì—°ì¥ ëª¨ë‹¬: isExtensionModalOpen, extendingReservation
  - ì•¡ì…˜ í•¨ìˆ˜ë“¤: handleCancelReservation, handleExtensionClick ë“±
  ```
- **ì„±ê³µ ê¸°ì¤€**: ëª¨ë“  ì˜ˆì•½ ì•¡ì…˜ì´ í›…ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ë…ë¦½ì ìœ¼ë¡œ ì‘ë™
- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: ì˜ˆì•½ ì·¨ì†Œ, ì—°ì¥ ê¸°ëŠ¥ ì •ìƒ ì‘ë™

#### **Phase 2: UI ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (2ìˆœìœ„)**
**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 4-5ì‹œê°„

**2-1. `StatsSection.tsx` ìƒì„± (1ì‹œê°„)**
- **êµ¬í˜„ ë²”ìœ„**: 
  ```typescript
  // í†µê³„ ì¹´ë“œ ì„¹ì…˜ (ë¼ì¸ 500-600 ì •ë„)
  - ì ë¦½ì‹œê°„, ì¿ í°, ë¦¬ë·° ì¹´ë“œ
  - í´ë¦­ í•¸ë“¤ëŸ¬ propsë¡œ ë°›ê¸°
  - í˜¸ë²„ íš¨ê³¼ ë° ì• ë‹ˆë©”ì´ì…˜ ìœ ì§€
  ```
- **ì„±ê³µ ê¸°ì¤€**: ë…ë¦½ì ì¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ë˜ì–´ ì¬ì‚¬ìš© ê°€ëŠ¥
- **ì„¤ì¹˜ í•„ìš”**: ì¶”ê°€ shadcn ì»´í¬ë„ŒíŠ¸ ì—†ìŒ (ê¸°ì¡´ Card ì‚¬ìš©)

**2-2. `ReservationList.tsx` ìƒì„± (1.5ì‹œê°„)**
- **êµ¬í˜„ ë²”ìœ„**:
  ```typescript
  // ì˜ˆì•½ ëª©ë¡ ë° í•„í„° (ë¼ì¸ 600-700 ì •ë„)
  - Tabs ê¸°ë°˜ í•„í„° UI
  - ì˜ˆì•½ ëª©ë¡ ë Œë”ë§ ë¡œì§
  - ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬
  ```
- **ì„±ê³µ ê¸°ì¤€**: í•„í„°ë§ê³¼ ëª©ë¡ í‘œì‹œê°€ ë…ë¦½ ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ë™
- **ì˜ì¡´ì„±**: ReservationCard ì»´í¬ë„ŒíŠ¸ í•„ìš”

**2-3. `ReservationCard.tsx` ìƒì„± (1.5ì‹œê°„)**
- **êµ¬í˜„ ë²”ìœ„**:
  ```typescript
  // ê°œë³„ ì˜ˆì•½ ì¹´ë“œ (ë¼ì¸ 700-800 ì •ë„)
  - ì˜ˆì•½ ì •ë³´ í‘œì‹œ ë¡œì§
  - ìƒíƒœ ì•„ì´ì½˜, ë°°ì§€, ìƒ‰ìƒ ë¡œì§
  - í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
  ```
- **ì„±ê³µ ê¸°ì¤€**: ì˜ˆì•½ ì¹´ë“œê°€ ë…ë¦½ì ìœ¼ë¡œ ë Œë”ë§ë˜ê³  ìƒí˜¸ì‘ìš© ê°€ëŠ¥
- **ë¶„ë¦¬ ëŒ€ìƒ**: getStatusIcon, getStatusColorClass, getStatusText í•¨ìˆ˜ë“¤

**2-4. `MyPageLayout.tsx` ìƒì„± (1ì‹œê°„)**
- **êµ¬í˜„ ë²”ìœ„**:
  ```typescript
  // í˜ì´ì§€ ì „ì²´ ë ˆì´ì•„ì›ƒ
  - í—¤ë” (ì‚¬ìš©ì ì •ë³´, ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼)
  - ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
  - ë©”ì¸ ì»¨í…Œì´ë„ˆ êµ¬ì¡°
  ```
- **ì„±ê³µ ê¸°ì¤€**: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬

#### **Phase 3: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë¶„ë¦¬ (3ìˆœìœ„)**
**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 1-2ì‹œê°„

**3-1. `reservation-helpers.ts` ìƒì„± (1ì‹œê°„)**
- **ë¶„ë¦¬í•  í•¨ìˆ˜ë“¤**:
  ```typescript
  // í˜„ì¬ page.tsxì˜ í•¨ìˆ˜ë“¤
  - formatTimeString
  - getReservationTimeStatus  
  - canCancelReservation
  ```
- **ì„±ê³µ ê¸°ì¤€**: ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ë¶„ë¦¬ë˜ì–´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- **ìœ„ì¹˜**: `src/features/my-page/utils/`

**3-2. `status-helpers.ts` ìƒì„± (1ì‹œê°„)**
- **ë¶„ë¦¬í•  í•¨ìˆ˜ë“¤**:
  ```typescript
  // UI ê´€ë ¨ í—¬í¼ í•¨ìˆ˜ë“¤
  - getStatusIcon
  - getStatusColorClass
  - getStatusText
  ```
- **ì„±ê³µ ê¸°ì¤€**: UI ìƒíƒœ ê´€ë ¨ ë¡œì§ì´ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ë¨

#### **Phase 4: ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (4ìˆœìœ„)**
**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 2-3ì‹œê°„

**4-1. `ReservationDetailModal.tsx` ìƒì„± (1ì‹œê°„)**
- **êµ¬í˜„ ë²”ìœ„**: ì˜ˆì•½ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ (í˜„ì¬ ë¼ì¸ 800-850)
- **ê¸°ëŠ¥**: ì˜ˆì•½ ì •ë³´ í‘œì‹œ, ì´ë ¥ íƒ€ì„ë¼ì¸, ì•¡ì…˜ ë²„íŠ¼ë“¤
- **ì„±ê³µ ê¸°ì¤€**: ë…ë¦½ì ì¸ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¡œ ì¬ì‚¬ìš© ê°€ëŠ¥

**4-2. `CancelReservationModal.tsx` ìƒì„± (1ì‹œê°„)**
- **êµ¬í˜„ ë²”ìœ„**: ì˜ˆì•½ ì·¨ì†Œ í™•ì¸ ëª¨ë‹¬
- **ê¸°ëŠ¥**: ì·¨ì†Œ í™•ì¸, ë¡œë”© ìƒíƒœ, ì—ëŸ¬ ì²˜ë¦¬
- **ì„±ê³µ ê¸°ì¤€**: ì·¨ì†Œ í”„ë¡œì„¸ìŠ¤ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‘ë™

**4-3. ê¸°ì¡´ `ExtensionModal` í†µí•© (30ë¶„)**
- **ì‘ì—…**: ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ì˜ í†µí•© í™•ì¸
- **ì„±ê³µ ê¸°ì¤€**: ì¼ê´€ëœ ëª¨ë‹¬ ì¸í„°í˜ì´ìŠ¤ ì œê³µ

#### **Phase 5: ì‹¤ì‹œê°„ êµ¬ë… ë¡œì§ ë¶„ë¦¬ (5ìˆœìœ„)**
**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 1-2ì‹œê°„

**5-1. `useRealtimeSubscriptions.ts` ìƒì„± (1.5ì‹œê°„)**
- **ë¶„ë¦¬í•  ë¡œì§**:
  ```typescript
  // í˜„ì¬ useEffect ë¡œì§ë“¤
  - ì˜ˆì•½ ìƒì„± ì´ë²¤íŠ¸ ìˆ˜ì‹ 
  - ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸ íƒ€ì´ë¨¸
  - ì¿ í° ì—…ë°ì´íŠ¸ êµ¬ë… (í–¥í›„ í™•ì¥)
  ```
- **ì„±ê³µ ê¸°ì¤€**: ì‹¤ì‹œê°„ ê¸°ëŠ¥ì´ ë…ë¦½ì ì¸ í›…ìœ¼ë¡œ ê´€ë¦¬ë¨

### ğŸ“ ìµœì¢… ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/my/
â”‚   â”œâ”€â”€ page.tsx (200ì¤„ ì´í•˜ë¡œ ì¶•ì†Œ)
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ MyPageLayout.tsx
â”‚       â”œâ”€â”€ StatsSection.tsx
â”‚       â”œâ”€â”€ ReservationList.tsx
â”‚       â””â”€â”€ ReservationCard.tsx
â”œâ”€â”€ features/my-page/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useReservations.ts
â”‚   â”‚   â”œâ”€â”€ useUserStats.ts
â”‚   â”‚   â”œâ”€â”€ useReservationActions.ts
â”‚   â”‚   â””â”€â”€ useRealtimeSubscriptions.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ReservationDetailModal.tsx
â”‚   â”‚   â””â”€â”€ CancelReservationModal.tsx
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ reservation-helpers.ts
â”‚       â””â”€â”€ status-helpers.ts
```

### ğŸ¯ ì‹¤í–‰ ì „ëµ

#### **ë¦¬ìŠ¤í¬ ê´€ë¦¬**
1. **ê¸°ì¡´ ê¸°ëŠ¥ ë³´ì¡´**: ê° ë‹¨ê³„ë§ˆë‹¤ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ í•„ìˆ˜
2. **ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜**: í•œ ë²ˆì— í•˜ë‚˜ì˜ Phaseë§Œ ì§„í–‰
3. **ë¡¤ë°± ê³„íš**: ê° ë‹¨ê³„ë³„ ì»¤ë°‹ìœ¼ë¡œ ë¡¤ë°± ê°€ëŠ¥í•˜ê²Œ ê´€ë¦¬

#### **í…ŒìŠ¤íŠ¸ ê³„íš**
1. **Phaseë³„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**: ê° ë‹¨ê³„ ì™„ë£Œ í›„ ì „ì²´ ê¸°ëŠ¥ ê²€ì¦
2. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ë¦¬íŒ©í† ë§ í›„ ë¡œë”© ì‹œê°„ ë¹„êµ
3. **ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤**: ì˜ˆì•½ ì¡°íšŒ, ì·¨ì†Œ, ì—°ì¥ ë“± í•µì‹¬ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

#### **ì˜ˆìƒ íš¨ê³¼ ì¸¡ì •**
- **íŒŒì¼ í¬ê¸°**: 36KB â†’ 8KB ì´í•˜ (ë©”ì¸ í˜ì´ì§€)
- **ì½”ë“œ ë¼ì¸**: 876ì¤„ â†’ 200ì¤„ ì´í•˜ (ë©”ì¸ í˜ì´ì§€)
- **ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±**: 5ê°œ ì´ìƒì˜ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ìƒì„±
- **ìœ ì§€ë³´ìˆ˜ì„±**: ê¸°ëŠ¥ë³„ ë…ë¦½ ëª¨ë“ˆë¡œ ìˆ˜ì • ìš©ì´ì„± í™•ë³´

### ğŸš€ ë‹¤ìŒ ë‹¨ê³„

**ì¤€ë¹„ ì™„ë£Œ ìƒíƒœ**: Phase 1ë¶€í„° ìˆœì°¨ì  ì‹¤í–‰ ì¤€ë¹„
**ì²« ë²ˆì§¸ ì‘ì—…**: `useReservations.ts` í›… ìƒì„± (Executor ëª¨ë“œ ì „í™˜ ì‹œ)
**ì„±ê³µ ê¸°ì¤€**: ê° Phase ì™„ë£Œ í›„ ê¸°ì¡´ ê¸°ëŠ¥ 100% ë™ì¼í•˜ê²Œ ì‘ë™



\